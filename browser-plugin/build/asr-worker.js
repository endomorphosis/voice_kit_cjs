(()=>{var e,r,t,o={144:()=>{},747:()=>{},591:()=>{},162:()=>{},405:()=>{},33:()=>{},359:()=>{},452:(e,r,t)=>{"use strict";var o=t(470);o._K2.useBrowserCache=!1,o._K2.useCustomCache=!0,o._K2.localModelPath=chrome.runtime.getURL("models"),o._K2.backends=["wasm"],o._K2.wasmRoot=chrome.runtime.getURL("wasm/");let a=null,n=null;function i(e){try{n?n.postMessage(e):self.postMessage(e)}catch(e){console.error("Failed to send message:",e)}}async function s(){if(!a)try{a=await(0,o.TkF)("automatic-speech-recognition","Xenova/whisper-small",{quantized:!0,chunk_length_s:30,stride_length_s:5,revision:"main"}),i({type:"ready"})}catch(e){throw i({type:"error",error:String(e)}),e}}async function c(e){try{if(!e||!e.type)throw new Error("Invalid message format");if("transcribe"!==e.type)throw new Error(`Unknown message type: ${e.type}`);if(!e.audio)throw new Error("No audio data provided");i({type:"result",text:await async function(e){a||await s();try{return(await a(e)).text}catch(e){throw new Error(`Transcription failed: ${e.message}`)}}(e.audio)})}catch(e){i({type:"error",error:String(e)})}}self.addEventListener("message",(async e=>{const{data:r}=e;try{if("initializeASR"===r.action)return e.ports&&e.ports[0]&&(n=e.ports[0],n.onmessage=async e=>await c(e.data)),void await s();await c(r)}catch(e){i({type:"error",error:String(e)})}})),s().catch((e=>{i({type:"error",error:String(e)})}))}},a={};function n(e){var r=a[e];if(void 0!==r)return r.exports;var t=a[e]={exports:{}};return o[e](t,t.exports,n),t.exports}n.m=o,e=[],n.O=(r,t,o,a)=>{if(!t){var i=1/0;for(f=0;f<e.length;f++){for(var[t,o,a]=e[f],s=!0,c=0;c<t.length;c++)(!1&a||i>=a)&&Object.keys(n.O).every((e=>n.O[e](t[c])))?t.splice(c--,1):(s=!1,a<i&&(i=a));if(s){e.splice(f--,1);var l=o();void 0!==l&&(r=l)}}return r}a=a||0;for(var f=e.length;f>0&&e[f-1][2]>a;f--)e[f]=e[f-1];e[f]=[t,o,a]},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,n.t=function(e,o){if(1&o&&(e=this(e)),8&o)return e;if("object"==typeof e&&e){if(4&o&&e.__esModule)return e;if(16&o&&"function"==typeof e.then)return e}var a=Object.create(null);n.r(a);var i={};r=r||[null,t({}),t([]),t(t)];for(var s=2&o&&e;"object"==typeof s&&!~r.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((r=>i[r]=()=>e[r]));return i.default=()=>e,n.d(a,i),a},n.d=(e,r)=>{for(var t in r)n.o(r,t)&&!n.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},n.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={882:0};n.O.j=r=>0===e[r];var r=(r,t)=>{var o,a,[i,s,c]=t,l=0;if(i.some((r=>0!==e[r]))){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(c)var f=c(n)}for(r&&r(t);l<i.length;l++)a=i[l],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(f)},t=self.webpackChunkbrowser_extension=self.webpackChunkbrowser_extension||[];t.forEach(r.bind(null,0)),t.push=r.bind(null,t.push.bind(t))})();var i=n.O(void 0,[96],(()=>n(452)));i=n.O(i)})();