{"version":3,"file":"content.js","mappings":"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","sources":["webpack://browser-extension/./src/content.js"],"sourcesContent":["// content.js - the content script which runs in the context of web pages, and has access\r\n// to the DOM and other web APIs.\r\n\r\n// Check for WebGPU support\r\nconsole.log('Checking WebGPU support...');\r\nif (!navigator.gpu) {\r\n    console.log('WebGPU not supported, will use WASM backend');\r\n} else {\r\n    // Test WebGPU capabilities without requiring f16\r\n    navigator.gpu.requestAdapter().then(adapter => {\r\n        if (adapter) {\r\n            console.log('WebGPU supported with adapter:', {\r\n                name: adapter.name,\r\n                features: Array.from(adapter.features)\r\n            });\r\n        } else {\r\n            console.log('WebGPU adapter not available, will use WASM backend');\r\n        }\r\n    }).catch(error => {\r\n        console.log('WebGPU initialization failed:', error);\r\n    });\r\n}\r\n\r\n// Handles UI interactions and DOM manipulation\r\nchrome.runtime.onMessage.addListener((message, sender, sendResponse) => {\r\n  if (message.action === 'showLoading') {\r\n    const div = document.createElement('div');\r\n    div.id = 'extension-loading';\r\n    div.textContent = 'Fetching content...';\r\n    Object.assign(div.style, {\r\n      position: 'fixed',\r\n      top: '20px',\r\n      right: '20px',\r\n      padding: '10px',\r\n      background: 'white',\r\n      border: '1px solid #ccc',\r\n      borderRadius: '4px',\r\n      zIndex: '10000'\r\n    });\r\n    document.body.appendChild(div);\r\n  }\r\n  \r\n  if (message.action === 'hideLoading') {\r\n    document.getElementById('extension-loading')?.remove();\r\n  }\r\n\r\n  if (message.action === 'showResult') {\r\n    const { result, userText } = message;\r\n    const chatContainer = document.createElement('div');\r\n    chatContainer.id = 'copilot-chat-container';\r\n    Object.assign(chatContainer.style, {\r\n      position: 'fixed',\r\n      top: '20px',\r\n      right: '20px',\r\n      width: '400px',\r\n      maxHeight: '80vh',\r\n      background: 'white',\r\n      border: '1px solid #ccc',\r\n      borderRadius: '8px',\r\n      boxShadow: '0 2px 10px rgba(0,0,0,0.1)',\r\n      zIndex: '10000',\r\n      display: 'flex',\r\n      flexDirection: 'column'\r\n    });\r\n\r\n    const header = document.createElement('div');\r\n    Object.assign(header.style, {\r\n      padding: '12px',\r\n      borderBottom: '1px solid #eee',\r\n      display: 'flex',\r\n      justifyContent: 'space-between',\r\n      alignItems: 'center'\r\n    });\r\n    header.innerHTML = '<span style=\"font-weight: bold;\">AI Response</span>';\r\n\r\n    const closeBtn = document.createElement('button');\r\n    closeBtn.textContent = 'Ã—';\r\n    Object.assign(closeBtn.style, {\r\n      border: 'none',\r\n      background: 'none',\r\n      cursor: 'pointer',\r\n      fontSize: '20px',\r\n      padding: '0 4px'\r\n    });\r\n    closeBtn.onclick = () => chatContainer.remove();\r\n    header.appendChild(closeBtn);\r\n\r\n    const content = document.createElement('div');\r\n    Object.assign(content.style, {\r\n      padding: '16px',\r\n      overflowY: 'auto',\r\n      fontSize: '14px',\r\n      lineHeight: '1.5'\r\n    });\r\n\r\n    const userMessage = document.createElement('div');\r\n    Object.assign(userMessage.style, {\r\n      marginBottom: '12px',\r\n      padding: '8px 12px',\r\n      background: '#f0f0f0',\r\n      borderRadius: '8px'\r\n    });\r\n    userMessage.textContent = userText;\r\n\r\n    const aiResponse = document.createElement('div');\r\n    Object.assign(aiResponse.style, {\r\n      padding: '8px 12px',\r\n      background: '#e3f2fd',\r\n      borderRadius: '8px',\r\n      whiteSpace: 'pre-wrap'\r\n    });\r\n    aiResponse.textContent = result;\r\n\r\n    content.appendChild(userMessage);\r\n    content.appendChild(aiResponse);\r\n    chatContainer.appendChild(header);\r\n    chatContainer.appendChild(content);\r\n    document.body.appendChild(chatContainer);\r\n  }\r\n\r\n  if (message.action === 'showError') {\r\n    alert('Error: ' + message.error);\r\n  }\r\n});\r\n\r\n// Example usage for text generation:\r\n//\r\n// import { ACTION_NAME } from \"./constants.js\";\r\n// const message = {\r\n//     action: ACTION_NAME,\r\n//     text: 'Your input text here',\r\n// }\r\n// const response = await chrome.runtime.sendMessage(message);\r\n// console.log('Generated text:', response)\r\n\r\n// You can also add your own UI elements or handlers here to trigger text generation\r\n// The context menu integration is handled by background.js\r\n"],"names":["console","log","navigator","gpu","requestAdapter","then","adapter","name","features","Array","from","catch","error","chrome","runtime","onMessage","addListener","message","sender","sendResponse","action","div","document","createElement","id","textContent","Object","assign","style","position","top","right","padding","background","border","borderRadius","zIndex","body","appendChild","getElementById","remove","result","userText","chatContainer","width","maxHeight","boxShadow","display","flexDirection","header","borderBottom","justifyContent","alignItems","innerHTML","closeBtn","cursor","fontSize","onclick","content","overflowY","lineHeight","userMessage","marginBottom","aiResponse","whiteSpace","alert"],"sourceRoot":""}